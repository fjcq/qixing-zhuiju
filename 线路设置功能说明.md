# 线路设置功能说明

## 功能概述

为七星追剧应用添加了**线路设置**功能，允许用户为播放线路设置自定义别名，使线路名称更易理解。

## 主要功能

### 1. 自动别名创建

- 当播放视频时，系统会自动为遇到的线路创建别名设置
- 默认别名与原始线路名称相同
- 用户可以随时自定义别名

### 2. 设置页面新增

- 在设置页面添加了"线路设置"部分
- 显示所有已设置的线路别名
- 提供管理线路别名的入口

### 3. 线路别名管理

- **查看别名列表**：显示所有线路的原名称和自定义别名
- **编辑别名**：可以修改现有线路的别名
- **删除别名**：删除别名后将显示原始线路名称
- **批量管理**：通过"管理线路别名"按钮进入管理界面

### 4. 视频详情页显示

- 线路切换按钮优先显示自定义别名
- 鼠标悬停时显示原始线路名称
- 自动为新遇到的线路创建别名设置

## 技术实现

### 存储结构

```javascript
// 线路别名存储在 localStorage 中
{
  "route_aliases": {
    "线路一": "高清线路",
    "线路二": "超清线路",
    "m3u8": "标清线路"
  }
}
```

### 核心方法

#### 存储服务 (StorageService)

- `getRouteAliases()` - 获取所有线路别名
- `setRouteAlias(routeName, alias)` - 设置线路别名
- `getRouteAlias(routeName)` - 获取单个线路别名
- `removeRouteAlias(routeName)` - 删除线路别名

#### 组件服务 (ComponentService)

- `showRouteAliasModal()` - 显示线路别名管理界面
- `createRouteAliasItem()` - 创建别名列表项
- `ensureRouteAlias()` - 确保线路有别名设置
- `getRouteDisplayName()` - 获取线路显示名称

## 使用说明

### 设置线路别名

1. 进入"设置"页面
2. 找到"线路设置"部分
3. 点击"管理线路别名"按钮
4. 在弹出的管理界面中编辑别名
5. 保存更改

### 查看效果

1. 打开任意视频的详情页面
2. 在播放列表上方可看到线路切换按钮
3. 按钮显示的是自定义别名（如果设置了）
4. 鼠标悬停可查看原始线路名称

## 功能特点

1. **自动发现**：无需手动添加，播放视频时自动创建线路别名设置
2. **实时生效**：修改别名后立即在视频详情页面生效
3. **可逆操作**：删除别名后恢复显示原始名称
4. **用户友好**：直观的管理界面，支持批量操作
5. **数据持久**：别名设置保存在本地存储中，重启后依然有效

## 界面截图位置

- 设置页面 → 线路设置部分
- 视频详情页面 → 播放列表上方的线路切换按钮
- 线路别名管理弹窗

## 注意事项

1. 别名不能为空
2. 删除别名后会恢复显示原始线路名称
3. 别名仅影响显示，不影响实际播放功能
4. 线路别名与站点绑定，切换站点可能遇到不同的线路名称
