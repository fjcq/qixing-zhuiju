# 七星追剧 更新日志

## v1.3.1 (2025-08-21)

### 🎯 播放器功能增强

- **选集面板改进**：优化选集面板样式和交互逻辑，提升用户体验
- **错误处理增强**：完善视频错误处理和自动重试功能，提高播放稳定性

### 🔧 开发环境优化

- **开发脚本改进**：优化开发脚本的错误处理和修复机制

---

## v1.3.0 (2025-08-20)

### 🎯 播放器同步功能

- **双向同步**：新增播放器与详情页面的当前播放集同步功能
- **实时更新**：播放器切换集数时自动更新详情页面的选集状态
- **状态跟随**：详情页面可实时显示播放器当前播放的集数
- **线路同步**：支持跨线路的集数同步，播放器切换线路时详情页自动跟随

### 🛠️ 开发工具优化

- **包管理器升级**：迁移至pnpm包管理器，提升依赖安装和管理效率
- **版本同步**：优化版本同步机制，确保版本信息在所有配置文件中保持一致

---

## v1.2.9 (2025-08-17)

### 🎯 重大修复：DLNA投屏功能

- **🔧 修复投屏URL为空问题**：增强主进程URL备份和传递机制，确保投屏时视频URL可用
- **📺 支持云视听极光TV投屏**：修正DLNA控制URL解析逻辑，基于设备XML正确构建控制端点
- **🚀 优化DLNA设备发现**：改进设备发现和服务解析，大幅提高投屏连接成功率
- **✅ 投屏功能完全修复**：现已支持市面上大部分智能电视和投屏设备

### 📈 历史记录功能增强

- **完善历史记录跨站点播放**：支持自动切换到正确站点继续播放历史记录
- **增强智能搜索功能**：当原站点视频不存在时，自动在其他站点搜索相同视频
- **重构历史记录播放流程**：彻底脱离对当前站点的依赖性，提升播放稳定性
- **优化历史记录数据结构**：只保存站点API地址作为唯一标识，提高数据一致性

### 🔧 技术改进

- 改进错误处理和用户提示机制
- 移除多余的调试信息输出，优化应用性能
- 清理调试代码，提升界面显示效果

---

## v1.2.8 (2025-08-07)

### 功能更新

- 将检查更新功能移至侧边栏底部，更方便访问
- 侧边栏常驻更新检查按钮，无需进入关于页面
- 支持状态显示：检查中、已是最新、有更新、检查失败
- 发现新版本时直接提供下载链接

### 用户体验优化

- 关于页面移除更新检查部分，界面更简洁
- 重构更新检查代码，提高可维护性
- 优化事件监听和状态管理
- 修复侧边栏布局和样式

---

## v1.2.7 (2025-08-07)

- 新增在线更新检查功能
- 支持版本比较和状态显示
- 发现新版本时提供下载按钮
- 集成Gitee API获取最新版本信息
- 关于页面重构，移除更新日志部分
- 完善网络请求错误处理
- 优化界面状态指示和用户反馈

---

## v1.2.6 (2025-08-07)

- 删除所有测试文件和临时文档
- 移除main.js中的测试窗口代码
- 精简播放进度、历史记录等日志输出
- 优化控制台输出，减少冗余信息
- 减少日志输出频率，提升运行性能
- 默认隐藏菜单栏，界面更简洁
- 优化应用启动速度和内存使用

---

## v1.2.5 (2025-08-06)

- 修复播放器置顶按钮重复触发问题
- 修复T键快捷键与置顶按钮状态不同步
- 优化置顶功能防抖机制和错误处理
- 改进事件绑定，避免重复绑定导致的异常
- 清理测试和修复报告相关临时文件
- 优化置顶状态提示和用户反馈

---

## v1.2.4 (2025-08-05)

- 播放器控制栏新增分享按钮
- 详情页分享按钮移至标题行右上角
- 简化剪切板检测逻辑
- 标题行布局更紧凑，空间利用更合理
- 分享按钮样式统一，采用蓝色主题

---

## v1.2.3 (2025-08-04)

- 播放器窗口置顶功能，支持T键快捷键
- 投屏功能，支持多种协议设备发现
- 播放器右上角新增置顶按钮
- 移除冗余文档，保持项目简洁

---

## v1.2.2 (2025-08-04)

- 修复Windows编译图标格式问题
- 从electron-builder切换到electron-packager
- 解决符号链接权限错误
- 更新编译输出路径和批处理脚本
- 同步版本号和路径说明
- 更新编译工具推荐和使用指南

---

## v1.2.1 (2025-08-03)

- WIN11风格12px圆角窗口设计
- 自定义标题栏和窗口控制
- 多层次亚克力透明效果
- 新增关于页面，包含软件信息和更新日志
- 支持Gitee仓库链接跳转
- 完善页面导航和路由系统
- IPC通信处理外部链接
- 跨平台透明效果支持
- 安全性和兼容性增强

---

## v1.2.0 (2025-08-03)

- 基于WebSocket的实时弹幕功能
- 支持7种颜色和3种大小的弹幕
- 智能房间分配和轨道管理
- 回车发送，ESC关闭输入框
- 多服务器自动切换和断线重连
- 个人弹幕绿色边框标识
- 最多50条弹幕同时显示，8秒滚动动画
- 新增文件：`src/renderer/js/danmaku.js`、`DANMAKU.md`

---

## v1.1.0 (2024-12-XX)

- 站点配置增删改查
- 线路屏蔽和别名功能
- 配置导入导出和数据迁移支持
- 错误处理和性能优化
- GPU兼容性改进

---

## v1.0.0 (2024-XX-XX)

- 苹果CMS API支持
- 视频搜索和播放
- 播放历史记录
- 自动播放下一集
- 多窗口播放
- 基于Electron 27.x + HLS.js

---

## 下一版本计划

### v1.4.0 规划

- **🎯 弹幕内容管理**：弹幕内容过滤和管理功能，支持关键词屏蔽和违规内容过滤
- **🌈 主题切换功能**：支持亮色/暗色主题切换，提供用户自定义配色方案
- **⭐ 视频收藏系统**：视频收藏功能，支持收藏夹分类管理和快速访问
- **📝 字幕文件支持**：支持SRT、ASS等格式字幕文件加载，提升观影体验
- **⌨️ 快捷键自定义**：用户可自定义播放器和界面操作快捷键

### 长期规划

- 用户系统和云端同步功能
- 社区功能和评论系统集成  
- 支持更多视频格式（MP4、AVI、MKV等）
- 视频下载和离线观看功能
- 智能推荐算法和个性化内容推送
- 多平台版本开发（macOS、Linux支持）
- 插件系统和开源生态建设
- AI智能字幕翻译功能
- 直播流媒体支持
- 移动端伴侣应用开发
