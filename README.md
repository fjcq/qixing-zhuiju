# 七星追剧 - Qixing Zhuiju

基于 Electron 的 Windows 桌面影视播放应用，支持苹果CMS资源站的视频播放。

## 🚀 快速开始

### 开发环境

```bash
npm install          # 安装依赖
npm start           # 启动开发服务器
# 或者使用
dev.bat             # Windows 批处理启动
```

### 编译发布

```bash
npm run dist        # 标准编译
# 或者使用批处理工具
build.bat          # 完整编译（推荐）
quick-build.bat    # 快速编译
```

## 📁 项目结构

```text
七星追剧/
├── src/                    # 源代码目录
│   ├── renderer/          # 渲染进程
│   │   ├── index.html     # 主界面
│   │   ├── player.html    # 播放器界面
│   │   ├── css/          # 样式文件
│   │   └── js/           # JavaScript模块
│   └── preload.js        # 预加载脚本
├── assets/               # 资源文件
│   ├── icon.png         # 应用图标
│   └── logo.png         # 应用Logo
├── main.js              # 主进程
├── package.json         # 项目配置
├── build.bat           # 编译工具
├── dev.bat             # 开发启动
└── quick-build.bat     # 快速编译
```

## ⚡ 功能特性

### 🎬 核心播放功能

- ✅ **多站点支持** - 苹果CMS API，支持JSON/XML格式
- ✅ **视频搜索** - 关键词搜索和分类浏览
- ✅ **在线播放** - 支持m3u8格式，基于HLS.js引擎
- ✅ **播放历史** - 自动记录观看历史和播放进度
- ✅ **自动播放** - 智能播放下一集功能
- ✅ **多窗口** - 独立播放器窗口，支持全屏播放

### 🛠️ 站点管理功能

- 🆕 **站点配置** - 添加/编辑/删除视频站点
- 🆕 **线路屏蔽** - 支持屏蔽指定播放线路（逗号分隔）
- 🆕 **线路别名** - 自定义线路显示名称
- 🆕 **智能过滤** - 自动忽略被屏蔽的播放线路

### 💾 数据管理功能

- 🆕 **配置导出** - 一键导出所有设置和数据
- 🆕 **配置导入** - 支持合并/覆盖两种导入模式
- 🆕 **数据迁移** - 跨设备快速同步配置
- 🆕 **选择性备份** - 可选择导出特定数据类型

### 🎨 界面体验

- ✅ **响应式设计** - 适配不同屏幕尺寸
- ✅ **深色主题** - 护眼的暗色界面
- ✅ **无菜单栏** - 简洁现代的UI设计
- ✅ **智能交互** - 直观的操作体验

## 🛠️ 技术栈

- **Electron 27.x** - 桌面应用框架，已优化GPU兼容性
- **HLS.js** - 视频播放引擎，支持m3u8流媒体
- **Axios** - HTTP请求库，处理API通信
- **LocalStorage** - 本地数据存储，支持配置持久化
- **原生Web技术** - HTML5/CSS3/ES6+ JavaScript

## 🔧 开发特性

- **模块化架构** - 清晰的代码组织和职责分离
- **错误处理** - 完善的异常捕获和用户反馈
- **性能优化** - 硬件加速禁用，避免GPU崩溃
- **开发友好** - 支持热重载和调试模式

## 📦 编译输出

编译完成后，可执行文件位于：

```text
dist/win-unpacked/七星追剧.exe
```

## 🎯 发布说明

### 编译步骤

1. **环境准备**：确保已安装 Node.js 16+ 和项目依赖
2. **执行编译**：运行 `build.bat` 进行完整编译
3. **文件打包**：将 `dist/win-unpacked/` 整个文件夹打包
4. **用户分发**：用户解压后即可直接运行

### 版本历史

**v1.1.0** (2025-08-03)

- 🆕 新增线路别名功能，支持自定义线路显示名称
- 🆕 新增线路屏蔽功能，可屏蔽指定播放线路
- 🆕 新增配置导入导出功能，支持数据备份和迁移
- 🔧 优化站点管理界面，美化UI交互体验
- 🐛 修复屏蔽线路过滤逻辑，提高播放稳定性
- 📈 完善错误处理和用户反馈机制

## 🔧 开发工具

### 批处理脚本

- `build.bat` - 完整编译工具，包含环境检查和详细提示
- `quick-build.bat` - 快速编译，适合频繁测试
- `dev.bat` - 开发模式启动，等同于 npm start

### 开发模式

```bash
npm run dev        # 开发模式（支持调试）
npm start         # 标准启动
dev.bat          # Windows批处理启动
```

### 调试功能

- **开发者工具** - F12开启Chrome DevTools
- **热重载** - 文件修改后自动重载
- **控制台日志** - 详细的运行时信息
- **错误追踪** - 完整的错误堆栈信息

### 系统要求

- **操作系统** - Windows 10/11 (x64)
- **运行时** - Node.js 16+
- **内存** - 建议 4GB 以上
- **存储** - 约 200MB 安装空间

---

## 📄 使用说明

### 基础操作

1. **添加站点** - 设置页面 → 站点管理 → 添加站点
2. **搜索视频** - 主页面输入关键词搜索
3. **播放视频** - 点击视频海报 → 选择剧集播放
4. **查看历史** - 设置页面 → 播放历史

### 高级功能

- **线路别名** - 设置页面 → 线路设置 → 添加别名
- **屏蔽线路** - 站点管理 → 编辑站点 → 屏蔽线路
- **数据备份** - 设置页面 → 导出配置
- **数据恢复** - 设置页面 → 导入配置

---

**作者**: 止水制造  
**版本**: v1.1.0  
**更新**: 2025年8月3日  
**协议**: MIT License
